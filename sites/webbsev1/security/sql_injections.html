-
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.3.3/dist/semantic.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js "></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="../../../style/style.css">

    <title>Webbserverprogrammering 1</title>
</head>

<body>
    <!--Sidebar-->
    <div class="ui sidebar vertical menu">


        <div class="item">
            <div class="header">
                Webbserverprogrammering 1
            </div>
            <div class="menu">
                <a class="item" href="../info/planering.html">
                    Planering
                </a>
                <a class="item" href="../info/kursplan.html">
                    Kursens innehåll
                </a>

            </div>
        </div>



        <div class="item">
            <div class="header">
                PHP
            </div>
            <div class="menu">
                <a class="item" href="../php/gettingstarted.html">
                    Komma igång
                </a>
                <a class="item" href="../php/phpbasics.html">
                    PHP Grunder
                </a>
                <a class="item" href="../php/filehandle.html">
                    Filhantering
                </a>
                <a class="item" href="../php/sessions.html">
                    Sessioner
                </a>
                <a class="item" href="../php/redirects.html">
                    Omdirigering
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
            </div>
        </div>

        <div class="item">
            <div class="header">
                Databaser
            </div>
            <div class="menu">
                <a class="item" href="../databaser/intro_db.html">
                    Introduktion
                </a>
                <a class="item" href="../databaser/connect_db.html">
                    Databasuppkoppling
                </a>
                <a class="item" href="../databaser/query_db.html">
                    Databasförfrågningar
                </a>
                <a class="item" href="../databaser/url_parameter.html">
                    Använda url-parametrar
                </a>
            </div>
        </div>


        <div class="item">
            <div class="header">
                Säkerhet
            </div>
            <div class="menu">
                <a class="item" href="about.html">
                </a>
                <a class="item">
                </a>

            </div>
        </div>
        <div class="item">
            <div class="header">
                Projekt Bloggen
            </div>
            <div class="menu">
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>

            </div>

        </div>


    </div>
    <!--end of sidebar-->
    <!-- Pusher-->
    <div class="pusher">

        <!-- Top menu-->
        <div class="top ui fixed menu">
            <a class="item sidebar">
                <i class="icon big sidebar"></i>
            </a>
            <a class="item">
                <div class="ui header">Webbserverprogrammering 1</div>
            </a>
            <div class="right menu">
                <div class="right menu">
                    <div class="item">

                        <a href="../../../index.html">
                            <img src=" ../../../assets/images/mglogo.jpg " width="100px ">
                        </a>
                    </div>
                    <div class="ui dropdown item">
                        Kurser
                        <i class="dropdown icon"></i>
                        <div class="menu">
                            <a class="item" href="../../webb1/info/kursplan.html">Webbutveckling 1</a>
                            <a class="item" href="../../webb2/info/kursplan.html">Webbutveckling 2</a>
                            <a class="item" href="../../webbsev1/info/kursplan.html">Webbserverprogrammering 1</a>
                        </div>
                    </div>
                    <div class="item">
                        <div class="ui icon input">
                            <input type="text" placeholder="Sök...">
                            <i class="search link icon"></i>
                        </div>
                    </div>

                </div>
            </div>
            <!--end of top menu-->

        </div>
        <!--end of pusher-->
        <div class="ui main container">

            <div class="ui  grid">
                <div class="row">
                    <div class="three wide column">
                        <!--   <div class="ui grey segment">
              <p>three wide column</p>
            </div> -->
                    </div>
                    <div class="ten wide column">
                        <div class="ui vertical segment">

                            <h1 class="ui header"> SQL Injektioner</h1>

                            <p>
                                SQL-injektioner är en av de vanligaste säkerhetsluckorna som förekommer i PHP. Det är
                                ett direkt resultat av att inte ha filtrerat och ”escapat” data korrekt. En illasinnad
                                användare kan utnyttja dessa säkerhetsluckor till att få kontroll över databasen. Det
                                kan innebära allt ifrån att logga in på andra användare och komma åt eventuell
                                konfidentiell information till att ta bort hela databasen. SQL injektion är alltså en
                                teknik fär att komma åt databasen

                                Den här typen av hackningsteknik utnyttjar felaktig kodning av webbplatser genom att
                                injicera SQL-kommandon i inmatningsfält, såsom inloggningsformulär, för att få tillgång
                                till databaser.

                                I huvudsak har inmatningsfältet på din webbplats som syfte att tillåta användare att
                                skriva in information till din databas. Hackers utnyttjar den här funktionen genom att
                                skriva in SQL-satser i sådana fält och därigenom få direktkontakt med databasen.
                                I stället för att ange ett lösenord vid inloggning kan man därför, om man har de
                                kunskaper som krävs, i fältet för lösenord mata in en instruktion som gör att databasen
                                antingen lämnar ifrån sig rätt lösen­ord eller tror att lösenordet redan är inmatat.

                                En angripare avsiktligt kan bädda in en " DROP TABLE " uttalande , eller någon annan ,
                                lika skadlig uttalande i ett textfält , så programmerare måste se till att program
                                beter sig lämpligt under sådana omständigheter .

                                Funktioner som kontaktformulär, login-sidor, söksidor, shoppingvagnar, användarprofiler
                                och andra former av dynamiskt innehåll är integrerade på moderna webbplatser för att de
                                ger företag möjligheten att kommunicera med sina kunder. Men de här funktionerna är
                                sårbara för SQL-injektionsattacker så länge inmatningsfälten kan utnyttjas av hackers
                                med SQL-satser för att ta sig genom nätverkssäkerheten direkt in till databasen
                            </p>

                            <h3 class="ui header"> Ett exempel på SQL injektion </h3>
                            <p>Ett inloggningssystem skulle kunna ha följande SQL-fråga för att undersöka om ett
                                lösenord är korrekt mot användarnamnet där man exempelvos hämtar $user och
                                $password
                                via $_POST:</p>
                            <div class="ui compact segment">
                                <pre><code class="sql">$query = "SELECT * FROM users WHERE user = '" + $user + "' and password = '" + $password + "'";</code></pre>
                            </div>
                            <p> Med användarnamnet kalle och lösenordet abc123 skulle SQL-frågan bli:</p>
                            <div class="ui compact segment">
                                <pre><code class="sql">SELECT * FROM users WHERE user = 'kalle' and password = 'abc123'</code></pre>
                            </div>
                            <p>Om en illasinnad användare som lösenord skriver in</p>
                            <div class="ui compact segment">
                                <pre><code class="sql">' OR '' = '</code></pre>
                            </div>
                            <p> Så blir SQL-frågan följande:</p>
                            <div class="ui compact segment">
                                <pre><code class="sql">SELECT * FROM users WHERE user = 'kalle' and password = '' OR '' = ''</code></pre>
                            </div>
                            <p>Jämförelsen längst till höger mellan två tomma strängar kommer alltid att leda till
                                att
                                resultatet blir sant, och användaren kommer alltid att loggas in.</p>

                            <p>Ett annat exempel på hur en hel tabell kan raderas genom att utöka med DROP som är
                                kommandot för att radera en tabell </p>
                            Om följande text matas in i ett formulärfält som tar emot indata med $_POST och matas in i
                            databasen.<br />
                            <div class="ui compact segment">
                                <pre><code class="sql">kalle; DROP TABLE Students</code></pre>
                            </div>

                            <p>Indatat skulle kunna bli:</p>
                            <div class="ui compact segment">
                                <pre><code class="sql">SELECT * FROM users WHERE user = 'kalle'; DROP TABLE Students</code></pre>
                            </div>

                            <h3 class="ui header"> Hur skyddar man sig mot SQL- injektioner?</h3>

                            <p>Vi behöver rensa indata på farliga tecken som saboterar vårt SQL-anrop.
                                Det gör vi genom att anropa en php-funktion som heter
                                mysqli_real_escape_string($databaskoppling, $indata);
                                Funktionen rensar textsträngen från speciella tecken så att det blir säkert att köra
                                strängen i ett mysql_query()-anrop.</p>

                            <div class="ui compact segment">
                                <pre><code class="php">$user = mysqli_real_escape_string($dbconn, $_POST[user]);
                                        $password=mysqli_real_escape_string($dbconn, $_POST[password]);</code></pre>
                            </div>
                            <a href="https://stackoverflow.com/questions/332365/how-does-the-sql-injection-from-the-bobby-tables-xkcd-comic-work/332367#332367">Här
                                finns en mer nogrann förklaring till seriestripen och de försvunna tabellerna i
                                seriestrippen <i>Bobby Tables</i> </a>

                            <div class="ui vertical center aligned segment">

                                <img src="../../../assets/images/sql_injection_strip.jpg" alt="Om databaser" width="600px">
                            </div>


                            <h2 class="ui header">SQL Injektioner</h2>
                            <a href="https://websitebeaver.com/prepared-statements-in-php-mysqli-to-prevent-sql-injection">How
                                SQL Injections works</a>
                            <p>1. </p>



                        </div>

                        <div class="ui vertical segment">

                            <h2 class="ui header">?</h2>


                        </div>

                        <div class="ui hidden divider"></div>


                        <a href="filter_input.html">
                            <button class="ui left floated labeled icon button">
                                <i class="left arrow icon"></i>
                                Filtering av data</button>
                        </a>

                        <a href="crypt_password.html">
                            <button class="ui right floated labeled icon button">
                                <i class="right arrow icon"></i>
                                Kryptering av lösenord</button>
                        </a>


                    </div>
                    <div class="three wide column ">
                        <!--  <div class="ui grey segment ">
              <p>three wide column</p>
            </div> -->
                    </div>
                </div>
            </div>

        </div>
    </div>

    </div>

    <!--Footer-->
    <div class="ui inverted vertical center aligned footer segment">
        <div class="ui container">

            <!-- <h4 class="ui inverted header">Footer Header</h4> -->
            <p>&copy; &nbsp; Sandra Larsson, Mediagymnasiet Nacka Strand</p>

        </div>
    </div>
    <!--end of footer-->
    <!--Code syntax highlightning-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js "></script>
    <!--jQuery include -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js " integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin=" anonymous "></script>
    <!-- Semantic UI include script-->
    <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.3.3/dist/semantic.min.js "></script>
    <!--Local script-->
    <script src="../../../src/script.js "></script>
</body>

</html>