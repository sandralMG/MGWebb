-
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.3.3/dist/semantic.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/tomorrow.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js "></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>
    <link rel="stylesheet" type="text/css" href="../../../style/style.css">

    <title>Webbserverprogrammering 1</title>
</head>

<body>
    <!--Sidebar-->
    <div class="ui sidebar vertical menu">


        <div class="item">
            <div class="header">
                Webbserverprogrammering 1
            </div>
            <div class="menu">
                <a class="item" href="../info/planering.html">
                    Planering
                </a>
                <a class="item" href="../info/kursplan.html">
                    Kursens innehåll
                </a>

            </div>
        </div>



        <div class="item">
            <div class="header">
                PHP
            </div>
            <div class="menu">
                <a class="item" href="../php/gettingstarted.html">
                    Komma igång
                </a>
                <a class="item" href="phpbasics.html">
                    PHP Grunder
                </a>
                <a class="item" href="filehandle.html">
                    Filhantering
                </a>
                <a class="item" href="sessions.html">
                    Sessioner
                </a>
                <a class="item" href="redirects.html">
                    Omdirigering
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
            </div>
        </div>

        <div class="item">
            <div class="header">
                Databaser
            </div>
            <div class="menu">
                <a class="item" href="../databaser/intro_db.html">
                    Introduktion
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>

            </div>
        </div>


        <div class="item">
            <div class="header">
                Säkerhet
            </div>
            <div class="menu">
                <a class="item">
                </a>
                <a class="item">
                </a>

            </div>
        </div>
        <div class="item">
            <div class="header">
                Projekt Bloggen
            </div>
            <div class="menu">
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>
                <a class="item">
                </a>

            </div>

        </div>


    </div>
    <!--end of sidebar-->
    <!-- Pusher-->
    <div class="pusher">

        <!-- Top menu-->
        <div class="top ui fixed menu">
            <a class="item sidebar">
                <i class="icon big sidebar"></i>
            </a>
            <a class="item">
                <div class="ui header">Webbserverprogrammering 1</div>
            </a>
            <div class="right menu">
                <div class="right menu">
                    <div class="item">

                        <a href="../../../index.html">
                            <img src=" ../../../assets/images/mglogo.jpg " width="100px ">
                        </a>
                    </div>
                    <div class="ui dropdown item">
                        Kurser
                        <i class="dropdown icon"></i>
                        <div class="menu">
                            <a class="item" href="../../webb1/info/kursplan.html">Webbutveckling 1</a>
                            <a class="item" href="../../webb2/info/kursplan.html">Webbutveckling 2</a>
                            <a class="item" href="../../webbsev1/info/kursplan.html">Webbserverprogrammering 1</a>
                        </div>
                    </div>
                    <div class="item">
                        <div class="ui icon input">
                            <input type="text" placeholder="Sök...">
                            <i class="search link icon"></i>
                        </div>
                    </div>

                </div>
            </div>
            <!--end of top menu-->

        </div>
        <!--end of pusher-->
        <div class="ui main container">

            <div class="ui  grid">
                <div class="row">
                    <div class="three wide column">
                        <!--   <div class="ui grey segment">
              <p>three wide column</p>
            </div> -->
                    </div>
                    <div class="ten wide column">
                        <div class="ui vertical segment">
                            <!-- Intro HTML-->
                            <h1 class="ui header"> PHP Sessioner</h1>

                            <div class="ui vertical segment">


                                <p>

                                    Sessioner är ett enkelt sätt att se
                                    om en användare har rätt att komma åt vissa delar av sidorna. Är man inloggad
                                    kan man t.ex. se medlemsinformatin, bilder eller ladda ner filer som en oinloggad
                                    användare inte kan.<br />
                                    Du kanske har hört talas om cookies? - vilket är en fil med information som lagras
                                    på webbplatsbesökarens dator, så länge användaren har godkänt användningen av
                                    cookies. <br />
                                    Sessioner kan liknas vi temporära cookies som bara existerar medan användaren
                                    besöker sidan.

                                </p>



                                <h2 class="ui header">Sätta en sessionsvariabel</h2>

                                <p>När man använder sig av sessioner är det viktigt att man alltid sätter in
                                    session_start() allra överst i php-koden. Det för att PHP-tolken ska förstå att
                                    sessioner kommer att användas på sidan.
                                    Man kan sedan sätta en sessionvariabel genom den superglobala variabeln $_SESSION,
                                    exempelvis.
                                </p>

                                <div class="ui compact segment">
                                    <pre><code class="php">&lt;?php
    session_start();
    //Om användarens matchar användarnamn/lösenord i datalagring, 
    //tilldela variabeln till angivet användarnamn
    $_SESSION['authenticated'] = $username;
    //Loggar vilken tid användaren loggade in det och lägger den i sessionsvariablen 'time'
    $_SESSIOON['time'] = time();
?&gt;</code></pre>
                                </div>
                                <h2 class="ui header">Använda en sessionsvariabel</h2>

                                <p>
                                    När man sedan kallar på en session kan man göra det
                                    som man kallar på en vanlig variabel (men en superglobal) ex
                                    $_SESSION['authenticated']. Detta exempel visar med sessions om en användare är
                                    inloggad eller inte.
                                </p>
                                <div class="ui compact segment">
                                    <pre><code class="php">&lt;?php
    session_start();
    if(isset($_SESSION['authenticated'])) {
        $username = $_SESSION['authenticated'];
        echo "Välkommen $username";
    }
    else {
        echo "Tyvärr är du inte authentiserad till denna sida";
    }
?&gt;</code></pre>
                                </div>



                                <div class="ui vertical segment">

                                    <h2 class="ui header">Avsluta en session</h2>
                                    <p>
                                        Funktionen session_destroy() tar bort hela sessionen och dess värden. Den
                                        kan vara användbar när en användare loggar ut från en sida.

                                    </p>

                                    <div class="ui compact segment">
                                        <pre><code>
if (isset($_POST['logout'])) {
    // Avslutar sessionen
    session_destroy();
    //Gör en omdirigering till annan sida
    header('location: login.php');

}</code></pre>
                                    </div>


                                    <div class="ui segment link">
                                        <h4 class="ui header link">Länkar </h4>
                                        <a href="https://www.w3schools.com/php/php_sessions.asp">W3 Schools om
                                            Sessioner</a>
                                        <br>


                                    </div>


                                    <div class="ui hidden divider"></div>
                                    <a href="filehandle.html">
                                        <button class="ui left floated labeled icon button">
                                            <i class="left arrow icon"></i>
                                            Filhantering</button>
                                    </a>


                                    <a href="redirects.html">
                                        <button class="ui right floated labeled icon button">
                                            <i class="right arrow icon"></i>
                                            Omdirigering</button>
                                    </a>


                                </div>
                            </div>
                            <div class="three wide column ">
                                <!--  <div class="ui grey segment ">
              <p>three wide column</p>
            </div> -->
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div>

        <!--Footer-->
        <div class="ui inverted vertical center aligned footer segment">
            <div class="ui container">

                <!-- <h4 class="ui inverted header">Footer Header</h4> -->
                <p>&copy; &nbsp; Sandra Larsson, Mediagymnasiet Nacka Strand</p>

            </div>
        </div>
        <!--end of footer-->
        <!--Code syntax highlightning-->
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js "></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.9.1/highlight.min.js "></script>
        <!--jQuery include -->
        <script src="https://code.jquery.com/jquery-3.1.1.min.js " integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
            crossorigin=" anonymous "></script>
        <!-- Semantic UI include script-->
        <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.3.3/dist/semantic.min.js "></script>
        <!--Local script-->
        <script src="../../../src/script.js "></script>
</body>

</html>